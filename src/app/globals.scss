/* Tailwind CSS v4 */
@use "tailwindcss";

/* SCSS 디자인 시스템 통합 */
@use "../styles/core/tokens" as *;
@use "../styles/core/mixins" as *;
@use "../styles/layers/base" as *;
@use "../styles/components/buttons" as *;
@use "../styles/components/cards" as *;
@use "../styles/components/forms" as *;
@use "../styles/components/layout" as *;
@use "../styles/components/navigation" as *;
@use "../styles/components/data" as *;
@use "../styles/components/common" as *;
@use "../styles/components/examples" as *;
@use "../styles/utilities/helpers" as *;

/* Tabulator CSS */
@import "tabulator-tables/dist/css/tabulator.min.css";

/* Tabulator 커스텀 스타일 - Calendar 테이블과 동일하게 */
.tabulator-table {
  .tabulator-header {
    background-color: #f9fafb !important;
    border-bottom: 1px solid #e5e7eb !important;
    
    .tabulator-col {
      background-color: #f9fafb !important;
      border-right: 1px solid #e5e7eb !important;
      padding: 12px 24px !important;
      
      .tabulator-col-content {
        font-size: 12px !important;
        font-weight: 600 !important;
        text-transform: uppercase !important;
        letter-spacing: 0.05em !important;
        color: #6b7280 !important;
      }
    }
  }
  
  .tabulator-tableholder {
    .tabulator-table {
      .tabulator-row {
        border-bottom: 1px solid #f3f4f6 !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          background-color: #f9fafb !important;
        }
        
        &:last-child {
          border-bottom: none !important;
        }
        
        .tabulator-cell {
          padding: 16px 24px !important;
          border-right: none !important;
          font-size: 14px !important;
          color: #374151 !important;
          
          &.tabulator-cell-vertical {
            vertical-align: middle !important;
          }
        }
      }
    }
  }
  
  .tabulator-footer {
    background-color: #f9fafb !important;
    border-top: 1px solid #e5e7eb !important;
    padding: 12px 24px !important;
    
    .tabulator-paginator {
      .tabulator-page {
        background-color: white !important;
        border: 1px solid #d1d5db !important;
        color: #374151 !important;
        padding: 8px 12px !important;
        margin: 0 2px !important;
        border-radius: 6px !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          background-color: #f3f4f6 !important;
          border-color: #9ca3af !important;
        }
        
        &.tabulator-page-active {
          background-color: #3b82f6 !important;
          border-color: #3b82f6 !important;
          color: white !important;
        }
      }
      
      .tabulator-page-size {
        select {
          background-color: white !important;
          border: 1px solid #d1d5db !important;
          border-radius: 6px !important;
          padding: 4px 8px !important;
          font-size: 14px !important;
          color: #374151 !important;
        }
      }
    }
  }
  
  /* 액션 버튼 스타일 */
  .tabulator-cell .tabulator-button {
    background-color: transparent !important;
    border: none !important;
    padding: 6px !important;
    border-radius: 6px !important;
    transition: all 0.2s ease !important;
    
    &:hover {
      background-color: #f3f4f6 !important;
    }
  }
}

/* NICE 폰트 정의 - 두께별 */
@font-face {
  font-family: 'NICE';
  src: url('/fonts/NICEGtNeobUni-bLt.woff2') format('woff2'),
       url('/fonts/NICEGtNeobUni-bLt.otf') format('opentype'),
       url('/fonts/NICEGtNeobUniTTF-bLt.ttf') format('truetype');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'NICE';
  src: url('/fonts/NICEGtNeobUni-cRg.woff2') format('woff2'),
       url('/fonts/NICEGtNeobUni-cRg.otf') format('opentype'),
       url('/fonts/NICEGtNeobUniTTF-cRg.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'NICE';
  src: url('/fonts/NICEGtNeobUni-eSb.woff2') format('woff2'),
       url('/fonts/NICEGtNeobUni-eSb.otf') format('opentype'),
       url('/fonts/NICEGtNeobUniTTF-eSb.ttf') format('truetype');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

/* NICE 모노스페이스 폰트 정의 */
@font-face {
  font-family: 'NICE Mono';
  src: url('/fonts/NICEGtNeobUni-cRg.woff2') format('woff2'),
       url('/fonts/NICEGtNeobUni-cRg.otf') format('opentype'),
       url('/fonts/NICEGtNeobUniTTF-cRg.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'NICE Mono';
  src: url('/fonts/NICEGtNeobUni-eSb.woff2') format('woff2'),
       url('/fonts/NICEGtNeobUni-eSb.otf') format('opentype'),
       url('/fonts/NICEGtNeobUniTTF-eSb.ttf') format('truetype');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

/* MUI 기본 스타일 (CssBaseline 대체) */
* {
  box-sizing: border-box;
}

html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  margin: 0;
  padding: 0;
  font-family: 'NICE', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
}

/* 공통 폰트 두께 클래스 */
.font-light {
  font-weight: 300;
}

.font-normal {
  font-weight: 400;
}

.font-semibold {
  font-weight: 600;
}

/* 모노스페이스 폰트 */
.font-mono {
  font-family: 'NICE Mono', 'NICE', monospace;
}

/* MUI 컴포넌트 기본 스타일 */
.MuiButton-root {
  text-transform: none !important;
}

.MuiChip-root {
  font-family: inherit;
}

.MuiTextField-root {
  font-family: inherit;
}

.MuiTypography-root {
  font-family: inherit;
}

/* 스크롤바 스타일 개선 */
.overflow-y-auto {
  scrollbar-width: thin;
  scrollbar-color: #d1d5db #f9fafb;
}

.overflow-y-auto::-webkit-scrollbar {
  width: 8px;
}

.overflow-y-auto::-webkit-scrollbar-track {
  background: #f9fafb;
  border-radius: 4px;
}

.overflow-y-auto::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 4px;
}

.overflow-y-auto::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}

/* 스크롤 시 하단 여백 문제 해결 */
.overflow-y-auto {
  scroll-padding-bottom: 0;
  scroll-margin-bottom: 0;
  /* 스크롤 영역 높이 문제 해결 */
  min-height: 0;
  flex-shrink: 1;
}

/* 대시보드 레이아웃 스크롤 문제 해결 */
.flex.h-screen {
  overflow: hidden;
}

.flex.flex-1.flex-col.overflow-hidden {
  min-height: 0;
}

/* 메인 컨테이너 스크롤 문제 해결 */
main.overflow-y-auto {
  /* 스크롤 영역이 부모 컨테이너를 벗어나지 않도록 설정 */
  contain: layout style paint;
  /* 스크롤바가 항상 보이도록 설정 */
  overflow-y: scroll;
  /* 스크롤 영역의 최소 높이 설정 */
  min-height: 0;
}

/* MUI 버튼 및 버튼그룹 쉐도우 제거 */
.MuiButton-root {
  box-shadow: none !important;
  text-transform: none !important;
  
  &:hover {
    box-shadow: none !important;
  }
  
  &:focus {
    box-shadow: none !important;
  }
  
  &:active {
    box-shadow: none !important;
  }
  
  &.Mui-focusVisible {
    box-shadow: none !important;
  }
}

.MuiButtonGroup-root {
  box-shadow: none !important;
  
  .MuiButton-root {
    box-shadow: none !important;
    
    &:hover {
      box-shadow: none !important;
    }
    
    &:focus {
      box-shadow: none !important;
    }
    
    &:active {
      box-shadow: none !important;
    }
    
    &.Mui-focusVisible {
      box-shadow: none !important;
    }
  }
}

/* MUI 버튼 변형별 쉐도우 제거 */
.MuiButton-contained {
  box-shadow: none !important;
  
  &:hover {
    box-shadow: none !important;
  }
  
  &:focus {
    box-shadow: none !important;
  }
  
  &:active {
    box-shadow: none !important;
  }
}

.MuiButton-outlined {
  box-shadow: none !important;
  
  &:hover {
    box-shadow: none !important;
  }
  
  &:focus {
    box-shadow: none !important;
  }
  
  &:active {
    box-shadow: none !important;
  }
}

.MuiButton-text {
  box-shadow: none !important;
  
  &:hover {
    box-shadow: none !important;
  }
  
  &:focus {
    box-shadow: none !important;
  }
  
  &:active {
    box-shadow: none !important;
  }
}

/* MUI 버튼그룹 내부 버튼 간격 조정 */
.MuiButtonGroup-grouped {
  &:not(:last-of-type) {
    border-right: 1px solid rgba(0, 0, 0, 0.12);
  }
  
  &:first-of-type {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }
  
  &:last-of-type {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }
  
  &:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
  }
}

/* MUI DialogContent 스타일 오버라이드 */
.MuiDialogContent-root {
  padding: 0 16px !important;
}

/* MUI Toggle Button 스타일 조정 - small 크기와 동일하게 */
.MuiToggleButton-root {
  box-shadow: none !important;
  text-transform: none !important;
  
  /* small 크기와 동일한 높이 및 padding */
  height: 36px !important;
  min-height: 36px !important;
  padding: 4px 12px !important;
  font-size: 13px !important;
  line-height: 1 !important;
  
  &:hover {
    box-shadow: none !important;
  }
  
  &:focus {
    box-shadow: none !important;
  }
  
  &:active {
    box-shadow: none !important;
  }
  
  &.Mui-focusVisible {
    box-shadow: none !important;
  }
  
  /* selected 상태에서도 쉐도우 제거 */
  &.Mui-selected {
    box-shadow: none !important;
    
    &:hover {
      box-shadow: none !important;
    }
    
    &:focus {
      box-shadow: none !important;
    }
    
    &:active {
      box-shadow: none !important;
    }
  }
}

/* Toggle Button Group 스타일 */
.MuiToggleButtonGroup-root {
  box-shadow: none !important;
  height: 36px !important;
  
  .MuiToggleButton-root {
    box-shadow: none !important;
    height: 36px !important;
    min-height: 36px !important;
    
    &:hover {
      box-shadow: none !important;
    }
    
    &:focus {
      box-shadow: none !important;
    }
    
    &:active {
      box-shadow: none !important;
    }
    
    &.Mui-focusVisible {
      box-shadow: none !important;
    }
    
    &.Mui-selected {
      box-shadow: none !important;
      
      &:hover {
        box-shadow: none !important;
      }
      
      &:focus {
        box-shadow: none !important;
      }
      
      &:active {
        box-shadow: none !important;
      }
    }
  }
}

  
  /* 작은 버튼 스타일 */
  .xsmallbtn1 {
    padding: 0px !important;
    min-width: auto !important;
    align-items: center !important;
    justify-content: center !important;
    height: 24px !important;
    max-width: 32px;
  }

  .xsmallbtn1 .MuiButton-startIcon {
    margin: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    height: 24px !important;
  }

  .xsmallbtn2 {
    padding: 0px !important;
    min-width: auto !important;
    align-items: center !important;
    justify-content: center !important;
    height: 24px !important;
    max-width: 24px;
  }

  .xsmallbtn2 .MuiButton-startIcon {
    margin: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    height: 24px !important;
  }

  .xsmallbtn3 {
    padding: 0px !important;
    min-width: auto !important;
    align-items: center !important;
    justify-content: center !important;
    height: 24px !important;
    max-width: 32px !important;
  }

  .xsmallbtn3 .MuiButton-startIcon {
    margin: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    height: 24px !important;
  }


/* MUI DatePicker disabled 색상 오버라이드 */
.MuiDatePicker-root {
  .MuiPickersDay-root.Mui-disabled {
    color: rgba(0, 0, 0, 0.38) !important;
  }
  
  .MuiPickersMonth-root.Mui-disabled {
    color: rgba(0, 0, 0, 0.38) !important;
  }
  
  .MuiPickersYear-yearButton.Mui-disabled {
    color: rgba(0, 0, 0, 0.38) !important;
  }
  
  /* 년도 선택 화면 폰트 크기 조정 */
  .MuiPickersYear-yearButton {
    font-size: 13px !important;
  }
  
  /* 월 선택 화면 폰트 크기 조정 */
  .MuiPickersMonth-monthButton {
    font-size: 13px !important;
  }
  
  /* 년도/월 선택 헤더 폰트 크기 조정 */
  .MuiPickersCalendarHeader-root {
    .MuiPickersCalendarHeader-label {
      font-size: 13px !important;
    }
  }
  
  /* Readonly 상태 스타일 오버라이드 */
  .MuiTextField-root.MuiInputBase-readOnly {
    .MuiOutlinedInput-root {
      background-color: rgba(0, 0, 0, 0.04) !important;
      border-color: rgba(0, 0, 0, 0.12) !important;
      
      &:hover {
        background-color: rgba(0, 0, 0, 0.04) !important;
        border-color: rgba(0, 0, 0, 0.12) !important;
      }
      
      &.Mui-focused {
        background-color: rgba(0, 0, 0, 0.04) !important;
        border-color: rgba(0, 0, 0, 0.12) !important;
      }
    }
    
    .MuiInputBase-input {
      -webkit-text-fill-color: rgba(0, 0, 0, 0.38) !important;
      color: rgba(0, 0, 0, 0.38) !important;
    }
  }
}

/* MUI Alert 스타일 오버라이드 - Snackbar 내부 Alert만 타입별 배경색과 흰색 텍스트 적용 */
.MuiSnackbar-root .MuiAlert-root {
  color: white !important;
  
  .MuiAlert-icon {
    color: white !important;
  }
  
  .MuiAlert-action {
    color: white !important;
  }
  
  /* Error 타입 - 빨간색 배경 */
  &.MuiAlert-standardError {
    background-color: #dc2626 !important; /* 빨간색 배경 */
    color: white !important;
    
    .MuiAlert-icon {
      color: white !important;
    }
    
    .MuiAlert-action {
      color: white !important;
    }
  }
  
  /* Info 타입 - 파란색 배경 */
  &.MuiAlert-standardInfo {
    background-color: #2563eb !important; /* 파란색 배경 */
    color: white !important;
    
    .MuiAlert-icon {
      color: white !important;
    }
    
    .MuiAlert-action {
      color: white !important;
    }
  }
  
  /* Success 타입 - 검정색 배경 */
  &.MuiAlert-standardSuccess {
    background-color: #1f2937 !important; /* 검정색 배경 */
    color: white !important;
    
    .MuiAlert-icon {
      color: white !important;
    }
    
    .MuiAlert-action {
      color: white !important;
    }
  }
  
  /* Warning 타입 - 주황색 배경 */
  &.MuiAlert-standardWarning {
    background-color: #ea580c !important; /* 주황색 배경 */
    color: white !important;
    
    .MuiAlert-icon {
      color: white !important;
    }
    
    .MuiAlert-action {
      color: white !important;
    }
  }
}

/* MUI Accordion 전역 스타일 커스텀 */
.MuiAccordion-root {
  border-radius: 8px !important;
  background-color: #fff !important;
  transition: box-shadow 0.2s;
  box-shadow: 0px 2px 6px -1px rgba(0, 0, 0, 0.05) !important;
  border: 1px solid #e6eafd;
  overflow: hidden;
  margin:0 0 8px 0 !important;

  &.Mui-expanded {
    box-shadow: 0 2px 6px -1px rgba(37, 99, 235, 0.1) !important;
    border-color: #2563eb !important;
    margin:0 0 8px 0 !important;
  }
}

.MuiAccordionSummary-root {
  min-height: 32px !important;
  padding: 8px 16px !important;
  background-color: #fff !important;
  transition: background-color 0.2s;

  &.Mui-expanded {
    min-height: 32px !important;
    padding: 8px 16px !important;
    background-color: #fff !important;
    color: #2563eb !important;
  }
}

.MuiAccordionSummary-content {
  margin: 4px 0!important;
  align-items: center;
  display: flex;
}

.MuiAccordionSummary-expandIconWrapper {
  color: #2563eb;
  transition: transform 0.2s;
}

.MuiAccordionSummary-root.Mui-expanded .MuiAccordionSummary-expandIconWrapper {
  color: #2563eb !important;
  transition: transform 0.2s;
}

.MuiAccordionDetails-root {
  padding: 0 16px 16px 16px !important;
  background: #fff !important;
}

.MuiAccordion-root:before,
.MuiAccordionDetails-root:before {
  display: none !important; /* MUI 기본 divider 제거 */
}
