@use "../core/mixins" as *;

@layer components {
  /* 기본 버튼 */
  :where(.c-btn) {
    @include button-base;
    @include button-size('base');
    @include button-variant('primary');
  }

  /* 버튼 변형 */
  :where(.c-btn--primary) {
    @include button-variant('primary');
  }

  :where(.c-btn--secondary) {
    @include button-variant('secondary');
  }

  :where(.c-btn--ghost) {
    @include button-variant('ghost');
  }

  :where(.c-btn--outline) {
    @include button-variant('outline');
  }

  :where(.c-btn--destructive) {
    @include button-variant('destructive');
  }

  /* 버튼 크기 */
  :where(.c-btn--sm) {
    @include button-size('sm');
  }

  :where(.c-btn--lg) {
    @include button-size('lg');
  }

  /* 버튼 상태 */
  :where(.c-btn--loading) {
    position: relative;
    color: transparent;
    
    &::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 1rem;
      height: 1rem;
      margin: -0.5rem 0 0 -0.5rem;
      border: 2px solid currentColor;
      border-radius: 50%;
      border-top-color: transparent;
      animation: spin 1s linear infinite;
    }
  }

  :where(.c-btn--icon-only) {
    width: var(--button-height-base);
    padding: 0;
    
    &.c-btn--sm {
      width: var(--button-height-sm);
    }
    
    &.c-btn--lg {
      width: var(--button-height-lg);
    }
  }

  /* 버튼 그룹 */
  :where(.c-btn-group) {
    display: inline-flex;
    
    .c-btn {
      border-radius: 0;
      
      &:first-child {
        border-top-left-radius: var(--radius-base);
        border-bottom-left-radius: var(--radius-base);
      }
      
      &:last-child {
        border-top-right-radius: var(--radius-base);
        border-bottom-right-radius: var(--radius-base);
      }
      
      &:not(:last-child) {
        border-right: 1px solid hsl(var(--color-border));
      }
    }
  }

  /* 버튼 스택 */
  :where(.c-btn-stack) {
    @include flex-col-start;
    gap: var(--space-2);
  }

  /* 버튼 행 */
  :where(.c-btn-row) {
    @include flex-row-start;
    gap: var(--space-2);
  }

  /* 버튼 풀 너비 */
  :where(.c-btn--full) {
    width: 100%;
  }

  /* 버튼 애니메이션 */
  :where(.c-btn--animated) {
    @include hover-lift;
  }

  :where(.c-btn--scale) {
    @include hover-scale(1.05);
  }

  /* 로딩 애니메이션 */
  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }
} 